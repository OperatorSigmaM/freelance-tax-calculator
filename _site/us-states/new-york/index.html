<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí∞</text></svg>">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KZMTMFZT66"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KZMTMFZT66');
    </script>
    
    <title>New York State Tax Calculator 2026 | NY Income Tax Calculator | FinTools</title>
    <meta name="description" content="Free New York tax calculator for 2026. Calculate NY state tax (4-10.9%) + NYC tax + federal taxes. Updated with 2026 rates and brackets.">
    <meta name="keywords" content="calculator, tax calculator, bmi calculator">
    <meta name="robots" content="index, follow">
    
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/pages.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="mega-nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">üíº FinTools</a>
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="/" class="nav-link">üè† Home</a>
                </li>
                <li class="nav-item">
                    <a href="/federal-tax/" class="nav-link">üá∫üá∏ Federal Tax</a>
                </li>
                <li class="nav-item">
                    <a href="/tax-calculators/" class="nav-link">
                        üìä Tax Calculators
                        <span class="dropdown-arrow">‚ñº</span>
                    </a>
                    <div class="mega-dropdown">
                        <div class="mega-content">
                            <div class="mega-section">
                                <div class="mega-section-title">üá∫üá∏ United States</div>
                                <div class="mega-links">
                                    <a href="/federal-tax/" class="mega-link">
                                        <span>üá∫üá∏</span>Federal Tax
                                    </a>
                                    <a href="/us-states/california/" class="mega-link">
                                        <span>üå¥</span>California
                                    </a>
                                    <a href="/us-states/new-york/" class="mega-link">
                                        <span>üóΩ</span>New York
                                    </a>
                                    <a href="/us-states/texas/" class="mega-link">
                                        <span>ü§†</span>Texas
                                    </a>
                                    <a href="/us-states/florida/" class="mega-link">
                                        <span>üèñÔ∏è</span>Florida
                                    </a>
                                    <a href="/us-states/washington/" class="mega-link">
                                        <span>üå≤</span>Washington
                                    </a>
                                    <a href="/us-states/arizona/" class="mega-link">
                                        <span>üåµ</span>Arizona
                                    </a>
                                </div>
                            </div>
                            
                            <div class="mega-section">
                                <div class="mega-section-title">üá™üá∫ Europe</div>
                                <div class="mega-links">
                                    <a href="/europe/uk/" class="mega-link">
                                        <span>üá¨üáß</span>United Kingdom
                                    </a>
                                    <a href="/europe/germany/" class="mega-link">
                                        <span>üá©üá™</span>Germany
                                    </a>
                                    <a href="/europe/france/" class="mega-link">
                                        <span>üá´üá∑</span>France
                                    </a>
                                    <a href="/europe/netherlands/" class="mega-link">
                                        <span>üá≥üá±</span>Netherlands
                                    </a>
                                    <a href="/europe/spain/" class="mega-link">
                                        <span>üá™üá∏</span>Spain
                                    </a>
                                    <a href="/europe/italy/" class="mega-link">
                                        <span>üáÆüáπ</span>Italy
                                    </a>
                                </div>
                            </div>
                            
                            <div class="mega-section">
                                <div class="mega-section-title">üåç Other Countries</div>
                                <div class="mega-links">
                                    <a href="/other/canada/" class="mega-link">
                                        <span>üá®üá¶</span>Canada
                                    </a>
                                    <a href="/other/australia/" class="mega-link">
                                        <span>üá¶üá∫</span>Australia
                                    </a>
                                    <a href="/other/japan/" class="mega-link">
                                        <span>üáØüáµ</span>Japan
                                    </a>
                                    <a href="/other/singapore/" class="mega-link">
                                        <span>üá∏üá¨</span>Singapore
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        üîß Other Tools
                        <span class="dropdown-arrow">‚ñº</span>
                    </a>
                    <div class="mega-dropdown">
                        <div class="mega-content">
                            <div class="mega-section">
                                <div class="mega-section-title">üí∞ Financial Tools</div>
                                <div class="mega-links">
                                    <a href="/loan-calculator/" class="mega-link">
                                        <span>üí∞</span>Loan Calculator
                                    </a>
                                    <a href="/retirement/" class="mega-link">
                                        <span>üèñÔ∏è</span>Retirement
                                    </a>
                                    <a href="/salary-hourly/" class="mega-link">
                                        <span>üíµ</span>Salary ‚Üî Hourly
                                    </a>
                                </div>
                            </div>
                            
                            <div class="mega-section">
                                <div class="mega-section-title">üéØ Lifestyle Tools</div>
                                <div class="mega-links">
                                    <a href="/tip-calculator/" class="mega-link">
                                        <span>üçΩÔ∏è</span>Tip Calculator
                                    </a>
                                    <a href="/bmi/" class="mega-link">
                                        <span>üí™</span>BMI Calculator
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            <button class="mobile-toggle" id="mobileToggle">‚ò∞</button>
        </div>
    </nav>

    <!-- Main Content -->
    
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 110px 20px 40px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 100%;
            padding: 40px;
            margin: 0 auto;
        }
        
        .state-badge {
            display: inline-block;
            background: linear-gradient(135deg, #003f87 0%, #c60c30 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            font-size: 14px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        h2 {
            color: #667eea;
            margin-bottom: 20px;
            margin-top: 40px;
            font-size: 24px;
        }
        
        h3 {
            color: #333;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            cursor: pointer;
        }

        .checkbox-group label {
            margin: 0;
            cursor: pointer;
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .results {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            display: none;
        }
        
        .results.show {
            display: block;
        }
        
        .result-section {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .result-section:last-child {
            border-bottom: none;
        }
        
        .result-section-title {
            font-size: 14px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
        }
        
        .result-label {
            color: #666;
        }
        
        .result-value {
            color: #333;
            font-weight: 600;
        }
        
        .total-row .result-value {
            color: #667eea;
            font-size: 24px;
        }

        .content-section {
            margin-top: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 12px;
            line-height: 1.8;
            color: #333;
        }
        
        .content-section p {
            margin-bottom: 15px;
        }
        
        .content-section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .content-section li {
            margin-bottom: 8px;
        }

        .tax-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }

        .tax-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .tax-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e0e0e0;
        }

        .tax-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .info {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 4px;
            font-size: 14px;
            color: #856404;
        }

        .highlight-box {
            background: #ffe6e6;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: white;
            opacity: 0.8;
            font-size: 14px;
        }
</style>

<div class="container">
    <div class="state-badge">üóΩ NEW YORK</div>
    <h1>New York Tax Calculator 2026</h1>
    <p class="subtitle">Calculate NY state + federal taxes with 2026 rates (4% - 10.9%)</p>
    
    <div class="input-group">
        <label>Filing Status</label>
        <select id="filingStatus">
            <option value="single">Single</option>
            <option value="married">Married Filing Jointly</option>
            <option value="head">Head of Household</option>
        </select>
    </div>
    
    <div class="input-group">
        <label>Gross Income (Annual)</label>
        <input type="number" id="income" placeholder="e.g., 75000" min="0">
    </div>
    
    <div class="input-group">
        <label>Business Expenses (Annual)</label>
        <input type="number" id="expenses" placeholder="e.g., 15000" min="0" value="0">
    </div>

    <div class="checkbox-group">
        <input type="checkbox" id="nycResident">
        <label for="nycResident">üèôÔ∏è I live in New York City (additional 3.876% tax)</label>
    </div>
    
    <div class="input-group">
        <label>Number of Dependents</label>
        <input type="number" id="dependents" placeholder="0" min="0" value="0">
    </div>
    
    <button class="btn" onclick="calculateTax()">Calculate Taxes</button>
    
    <div class="results" id="results">
        <div class="result-section">
            <div class="result-section-title">üìä Income</div>
            <div class="result-row">
                <span class="result-label">Gross Income</span>
                <span class="result-value" id="grossIncome"></span>
            </div>
            <div class="result-row">
                <span class="result-label">Net Income</span>
                <span class="result-value" id="netIncome"></span>
            </div>
        </div>
        
        <div class="result-section">
            <div class="result-section-title">üá∫üá∏ Federal Taxes</div>
            <div class="result-row">
                <span class="result-label">Income Tax</span>
                <span class="result-value" id="federalTax"></span>
            </div>
            <div class="result-row">
                <span class="result-label">Self-Employment Tax</span>
                <span class="result-value" id="seTax"></span>
            </div>
        </div>
        
        <div class="result-section">
            <div class="result-section-title">üóΩ New York State</div>
            <div class="result-row">
                <span class="result-label">State Income Tax</span>
                <span class="result-value" id="stateTax"></span>
            </div>
            <div class="result-row" id="nycTaxRow" style="display: none;">
                <span class="result-label">NYC City Tax</span>
                <span class="result-value" id="nycTax"></span>
            </div>
        </div>
        
        <div class="result-section">
            <div class="result-row total-row">
                <span class="result-label"><strong>Total Tax Owed</strong></span>
                <span class="result-value" id="totalTax"></span>
            </div>
            <div class="result-row">
                <span class="result-label">Effective Rate</span>
                <span class="result-value" id="effectiveRate"></span>
            </div>
        </div>
    </div>
    
    <div class="info">
        <strong>‚ö†Ô∏è Note:</strong> New York has high state income tax (up to 10.9%). NYC residents pay additional city tax (up to 3.876%). This calculator estimates NY state + federal taxes for 2026.
    </div>
    
    <div class="content-section">
        <h2>New York State Tax Guide 2026</h2>
        
        <p>
            <strong>New York has one of the highest state income tax rates in the United States.</strong> The state uses a progressive tax system with 9 tax brackets, ranging from 4% to 10.9%. New York City residents pay an additional local income tax of up to 3.876%.
        </p>

        <div class="highlight-box">
            <strong>üî• New York Tax Rates 2026:</strong>
            <ul style="margin-top: 10px;">
                <li><strong>9 tax brackets</strong> - 4% to 10.9%</li>
                <li><strong>NYC residents</strong> pay additional 3.088% to 3.876%</li>
                <li><strong>Standard Deduction:</strong> Single $8,000 | Married $16,050</li>
                <li><strong>Middle-class tax cuts</strong> - 0.1% reduction in lower brackets</li>
            </ul>
        </div>
        
        <h3>2026 New York State Tax Brackets</h3>
        
        <table class="tax-table">
            <thead>
                <tr>
                    <th>Tax Rate</th>
                    <th>Single</th>
                    <th>Married Filing Jointly</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>4.0%</td><td>$0 - $8,500</td><td>$0 - $17,150</td></tr>
                <tr><td>4.5%</td><td>$8,501 - $11,700</td><td>$17,151 - $23,600</td></tr>
                <tr><td>5.25%</td><td>$11,701 - $13,900</td><td>$23,601 - $27,900</td></tr>
                <tr><td>5.5%</td><td>$13,901 - $80,650</td><td>$27,901 - $161,550</td></tr>
                <tr><td>6.0%</td><td>$80,651 - $215,400</td><td>$161,551 - $323,200</td></tr>
                <tr><td>6.85%</td><td>$215,401 - $1,077,550</td><td>$323,201 - $2,155,350</td></tr>
                <tr><td>9.65%</td><td>$1,077,551 - $5,000,000</td><td>$2,155,351 - $5,000,000</td></tr>
                <tr><td>10.3%</td><td>$5,000,001 - $25,000,000</td><td>$5,000,001 - $25,000,000</td></tr>
                <tr><td>10.9%</td><td>$25,000,001+</td><td>$25,000,001+</td></tr>
            </tbody>
        </table>

        <h3>New York Standard Deduction 2026</h3>
        
        <ul>
            <li><strong>Single:</strong> $8,000</li>
            <li><strong>Married Filing Jointly:</strong> $16,050</li>
            <li><strong>Head of Household:</strong> $11,200</li>
        </ul>

        <h3>NYC City Tax (Additional for NYC Residents)</h3>

        <p>If you live in New York City, you pay an additional city income tax:</p>

        <table class="tax-table">
            <thead>
                <tr>
                    <th>Tax Rate</th>
                    <th>Single</th>
                    <th>Married Filing Jointly</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>3.078%</td><td>$0 - $12,000</td><td>$0 - $21,600</td></tr>
                <tr><td>3.762%</td><td>$12,001 - $25,000</td><td>$21,601 - $45,000</td></tr>
                <tr><td>3.819%</td><td>$25,001 - $50,000</td><td>$45,001 - $90,000</td></tr>
                <tr><td>3.876%</td><td>$50,001+</td><td>$90,001+</td></tr>
            </tbody>
        </table>

        <h3>2026 Federal Tax Brackets (Applies to NY Residents)</h3>
        
        <table class="tax-table">
            <thead>
                <tr>
                    <th>Tax Rate</th>
                    <th>Single</th>
                    <th>Married Filing Jointly</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>10%</td><td>$0 - $12,400</td><td>$0 - $24,800</td></tr>
                <tr><td>12%</td><td>$12,401 - $49,500</td><td>$24,801 - $99,000</td></tr>
                <tr><td>22%</td><td>$49,501 - $105,400</td><td>$99,001 - $210,800</td></tr>
                <tr><td>24%</td><td>$105,401 - $201,150</td><td>$210,801 - $402,300</td></tr>
                <tr><td>32%</td><td>$201,151 - $255,425</td><td>$402,301 - $510,850</td></tr>
                <tr><td>35%</td><td>$255,426 - $640,600</td><td>$510,851 - $768,700</td></tr>
                <tr><td>37%</td><td>$640,601+</td><td>$768,701+</td></tr>
            </tbody>
        </table>

        <h3>Federal Standard Deduction 2026</h3>
        
        <ul>
            <li><strong>Single:</strong> $16,100</li>
            <li><strong>Married Filing Jointly:</strong> $32,200</li>
            <li><strong>Head of Household:</strong> $24,150</li>
        </ul>
        
        <h3>Pros and Cons of Living in New York</h3>
        
        <p><strong>Pros:</strong></p>
        <ul>
            <li>World-class city (NYC)</li>
            <li>Excellent job opportunities</li>
            <li>Cultural diversity and entertainment</li>
            <li>Public transportation (NYC)</li>
            <li>Strong economy</li>
        </ul>

        <p><strong>Cons:</strong></p>
        <ul>
            <li>Very high state income tax (up to 10.9%)</li>
            <li>NYC residents pay additional city tax (up to 3.876%)</li>
            <li>Very high cost of living</li>
            <li>High property taxes</li>
            <li>High sales tax</li>
        </ul>

        <h3>New York vs Other High-Tax States</h3>

        <table class="tax-table">
            <thead>
                <tr>
                    <th>State</th>
                    <th>Top State Rate</th>
                    <th>NYC/City Tax</th>
                    <th>Combined Max</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>California</td><td>13.3%</td><td>-</td><td>13.3%</td></tr>
                <tr><td><strong>New York</strong></td><td>10.9%</td><td>+3.876%</td><td><strong>14.776%</strong></td></tr>
                <tr><td>Hawaii</td><td>11.0%</td><td>-</td><td>11.0%</td></tr>
                <tr><td>New Jersey</td><td>10.75%</td><td>-</td><td>10.75%</td></tr>
            </tbody>
        </table>

        <p><strong>Note:</strong> NYC residents have the highest combined state + city income tax in the US!</p>

        <h3>Who Leaves New York for Tax Reasons?</h3>

        <ul>
            <li><strong>High-income earners:</strong> Save 10.9% by moving to FL, TX, NV</li>
            <li><strong>Retirees:</strong> No tax on Social Security in many other states</li>
            <li><strong>Remote workers:</strong> Can work from lower-tax states</li>
            <li><strong>Business owners:</strong> Lower taxes and less regulation elsewhere</li>
        </ul>
        
        <p>
            <strong>Important:</strong> This calculator provides estimates for New York state, NYC city, and federal taxes. NY's high combined rates make it one of the most expensive states. For detailed tax planning, consult with a New York CPA or tax professional.
        </p>
    </div>
</div>

<footer>
</footer>

<script>
function calculateTax() {
    const income = parseFloat(document.getElementById('income').value) || 0;
    const expenses = parseFloat(document.getElementById('expenses').value) || 0;
    const status = document.getElementById('filingStatus').value;
    const dependents = parseInt(document.getElementById('dependents').value) || 0;
    const nycResident = document.getElementById('nycResident').checked;
    
    if (income <= 0) {
        alert('Please enter your income');
        return;
    }
    
    const netIncome = income - expenses;
    
    // Federal tax calculation (2026 updated)
    let federalStandardDeduction = 16100;
    if (status === 'married') federalStandardDeduction = 32200;
    if (status === 'head') federalStandardDeduction = 24150;
    
    const seDeduction = netIncome * 0.9235 * 0.153 * 0.5;
    const federalTaxableIncome = Math.max(0, netIncome - federalStandardDeduction - seDeduction);
    
    let federalBrackets = [];
    if (status === 'single') {
        federalBrackets = [
            [12400, 0.1],
            [49500, 0.12],
            [105400, 0.22],
            [201150, 0.24],
            [255425, 0.32],
            [640600, 0.35],
            [99999999, 0.37]
        ];
    } else if (status === 'married') {
        federalBrackets = [
            [24800, 0.1],
            [99000, 0.12],
            [210800, 0.22],
            [402300, 0.24],
            [510850, 0.32],
            [768700, 0.35],
            [99999999, 0.37]
        ];
    } else {
        federalBrackets = [
            [17700, 0.1],
            [66300, 0.12],
            [105400, 0.22],
            [201150, 0.24],
            [255400, 0.32],
            [640600, 0.35],
            [99999999, 0.37]
        ];
    }
    
    let federalTax = 0;
    let remaining = federalTaxableIncome;
    let previousLimit = 0;
    
    for (let i = 0; i < federalBrackets.length; i++) {
        if (remaining <= 0) break;
        const bracketLimit = federalBrackets[i][0];
        const bracketRate = federalBrackets[i][1];
        const taxableInBracket = Math.min(remaining, bracketLimit - previousLimit);
        federalTax += taxableInBracket * bracketRate;
        remaining -= taxableInBracket;
        previousLimit = bracketLimit;
    }
    
    const selfEmploymentTax = netIncome * 0.9235 * 0.153;
    
    // NY state tax (2026)
    let nyStandardDeduction = 8000;
    if (status === 'married') nyStandardDeduction = 16050;
    if (status === 'head') nyStandardDeduction = 11200;
    
    const nyTaxableIncome = Math.max(0, netIncome - nyStandardDeduction);
    
    let nyBrackets = [];
    if (status === 'single') {
        nyBrackets = [
            [8500, 0.04],
            [11700, 0.045],
            [13900, 0.0525],
            [80650, 0.055],
            [215400, 0.06],
            [1077550, 0.0685],
            [5000000, 0.0965],
            [25000000, 0.103],
            [99999999, 0.109]
        ];
    } else if (status === 'married') {
        nyBrackets = [
            [17150, 0.04],
            [23600, 0.045],
            [27900, 0.0525],
            [161550, 0.055],
            [323200, 0.06],
            [2155350, 0.0685],
            [5000000, 0.0965],
            [25000000, 0.103],
            [99999999, 0.109]
        ];
    } else {
        nyBrackets = [
            [12800, 0.04],
            [17650, 0.045],
            [20900, 0.0525],
            [107650, 0.055],
            [269300, 0.06],
            [1616450, 0.0685],
            [5000000, 0.0965],
            [25000000, 0.103],
            [99999999, 0.109]
        ];
    }
    
    let nyStateTax = 0;
    remaining = nyTaxableIncome;
    previousLimit = 0;
    
    for (let i = 0; i < nyBrackets.length; i++) {
        if (remaining <= 0) break;
        const bracketLimit = nyBrackets[i][0];
        const bracketRate = nyBrackets[i][1];
        const taxableInBracket = Math.min(remaining, bracketLimit - previousLimit);
        nyStateTax += taxableInBracket * bracketRate;
        remaining -= taxableInBracket;
        previousLimit = bracketLimit;
    }
    
    // NYC city tax (simplified)
    let nycTax = 0;
    if (nycResident) {
        let nycBrackets = [];
        if (status === 'single') {
            nycBrackets = [
                [12000, 0.03078],
                [25000, 0.03762],
                [50000, 0.03819],
                [99999999, 0.03876]
            ];
        } else {
            nycBrackets = [
                [21600, 0.03078],
                [45000, 0.03762],
                [90000, 0.03819],
                [99999999, 0.03876]
            ];
        }
        
        remaining = nyTaxableIncome;
        previousLimit = 0;
        
        for (let i = 0; i < nycBrackets.length; i++) {
            if (remaining <= 0) break;
            const bracketLimit = nycBrackets[i][0];
            const bracketRate = nycBrackets[i][1];
            const taxableInBracket = Math.min(remaining, bracketLimit - previousLimit);
            nycTax += taxableInBracket * bracketRate;
            remaining -= taxableInBracket;
            previousLimit = bracketLimit;
        }
    }
    
    const totalTax = federalTax + selfEmploymentTax + nyStateTax + nycTax;
    const effectiveRate = (totalTax / income * 100).toFixed(1);
    
    // Display results
    document.getElementById('grossIncome').textContent = '$' + income.toLocaleString();
    document.getElementById('netIncome').textContent = '$' + netIncome.toLocaleString();
    document.getElementById('federalTax').textContent = '$' + Math.round(federalTax).toLocaleString();
    document.getElementById('seTax').textContent = '$' + Math.round(selfEmploymentTax).toLocaleString();
    document.getElementById('stateTax').textContent = '$' + Math.round(nyStateTax).toLocaleString();
    
    if (nycResident && nycTax > 0) {
        document.getElementById('nycTaxRow').style.display = 'flex';
        document.getElementById('nycTax').textContent = '$' + Math.round(nycTax).toLocaleString();
    } else {
        document.getElementById('nycTaxRow').style.display = 'none';
    }
    
    document.getElementById('totalTax').textContent = '$' + Math.round(totalTax).toLocaleString();
    document.getElementById('effectiveRate').textContent = effectiveRate + '%';
    
    document.getElementById('results').classList.add('show');
    document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

document.getElementById('income').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') calculateTax();
});

document.getElementById('expenses').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') calculateTax();
});
</script>

    <!-- Footer -->
    <footer>
        <p>&copy; 2026 FinTools | Free calculators for everyone</p>
    </footer>

    <!-- Navigation Logic -->
    <script>
        // Mobile menu toggle
        document.getElementById('mobileToggle').addEventListener('click', function() {
            document.getElementById('navMenu').classList.toggle('mobile-active');
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const nav = document.querySelector('.mega-nav');
            const menu = document.getElementById('navMenu');
            if (nav && menu && !nav.contains(event.target)) {
                menu.classList.remove('mobile-active');
            }
        });

        // Mobile dropdown toggles
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    const link = this.querySelector('.nav-link');
                    if (link && link.getAttribute('href') === '#') {
                        e.preventDefault();
                        this.classList.toggle('mobile-open');
                    }
                }
            });
        });
    </script>
</body>
</html>